!function(e,a,t){function n(e){return a.getElementById(e)}function i(e,t){return t=t?t:a,t.getElementsByClassName(e)[0]}function s(e){return e%400===0?!0:e%100===0?!1:e%4===0?!0:!1}function r(e){var a=e.getUTCDate(),t=e.getUTCMonth()+1,n=e.getUTCFullYear(),i=0;switch(t){case 1:i=a;break;case 2:i=a+31;break;default:i=Math.floor(30.6*t-91.4)+a,i+=s(n)?60:59}return i}function c(e){var a=(new Date).getFullYear(),t=s(a)?1:0,n=0,i=0;switch(!0){case 31>=e:n=1,i=e;break;case 59+t>=e:n=2,i=e-31;break;case 90+t>=e:n=3,i=e-(59+t);break;case 120+t>=e:n=4,i=e-(90+t);break;case 151+t>=e:n=5,i=e-(120+t);break;case 181+t>=e:n=6,i=e-(151+t);break;case 212+t>=e:n=7,i=e-(181+t);break;case 243+t>=e:n=8,i=e-(212+t);break;case 273+t>=e:n=9,i=e-(243+t);break;case 304+t>=e:n=10,i=e-(273+t);break;case 334+t>=e:n=11,i=e-(304+t);break;default:n=12,i=e-(334+t)}var r=new Date(a,n-1,i);return r}function o(){var e=a.getElementsByClassName("cache card")[0];e.classList.remove("hide")}function u(){e.applicationCache.update();var t=a.getElementsByClassName("cache card")[0];t.classList.add("hide")}Date.prototype.getJulian=function(){return r(this)};var l={date:new Date((new Date).toDateString()),julianDOM:n("julianInput"),dateDOM:n("dateInput"),cleanDate:function(e){return new Date(e.toDateString())},now:function(){return this.cleanDate(new Date)},toIsoDate:function(e){return e.toISOString().substring(0,10)},changeJulian:function(e){this.date=c(e),this.displayJulian().displayDate()},changeDate:function(e){this.date=e,this.displayJulian().displayDate()},error:function(){this.julianDOM.value="error",this.dateDOM.value=""},displayJulian:function(){return this.julianDOM.value=this.date.getJulian(),this},displayDate:function(){return this.dateDOM.value=this.toIsoDate(this.cleanDate(this.date)),this}};e.julian=l,l.displayJulian().displayDate();var d=i("toggle card");d.trigger=i("trigger",d),d.text=i("text",d),d.trigger.onclick=function(e){d.classList.contains("open")?(d.trigger.innerHTML="More Info",d.classList.remove("open"),d.classList.add("close")):(d.trigger.innerHTML="Less Info",d.classList.remove("close"),d.classList.add("open"))};var h=function(){n("today").classList.remove("hide")},f=function(){n("today").classList.add("hide")};e.applicationCache&&(e.addEventListener("offline",o,!1),e.addEventListener("online",u,!1),e.applicationCache.addEventListener("noupdate",function(){},!1),e.applicationCache.addEventListener("updateready",function(){e.applicationCache.swapCache()},!1)),t.onLine||o(),l.dateDOM.onchange=function(e){l.changeDate(new Date(this.value)),h()},l.julianDOM.addEventListener("focus",function(){var e=this;setTimeout(function(){e.select()},0)}),l.julianDOM.addEventListener("input",function(e){var a=+this.value;!isNaN(a)&&367>a&&a>0&&l.changeJulian(a),h()}),l.julianDOM.addEventListener("change",function(e){this.blur();var a=+this.value;(isNaN(a)||a>367||1>a)&&l.error()}),n("today").onclick=function(){l.date=l.now(),l.displayJulian().displayDate(),f()}}(window,document,navigator);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp1bGlhbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsIm5hdmlnYXRvciIsIk8iLCJpZCIsImdldEVsZW1lbnRCeUlkIiwiQyIsInNlbGVjdG9yIiwiZWxlbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpc0xlYXAiLCJ5IiwiZ2V0SnVsaWFuIiwiZGF0ZSIsImRheSIsImdldFVUQ0RhdGUiLCJtb250aCIsImdldFVUQ01vbnRoIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwiZG95IiwiTWF0aCIsImZsb29yIiwiZ2V0RGF0ZSIsImp1bGlhbiIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImxlYXAiLCJuZCIsIm9mZmxpbmVNb2RlIiwiY2FyZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm9ubGluZU1vZGUiLCJhcHBsaWNhdGlvbkNhY2hlIiwidXBkYXRlIiwiYWRkIiwicHJvdG90eXBlIiwidGhpcyIsInRvRGF0ZVN0cmluZyIsImp1bGlhbkRPTSIsImRhdGVET00iLCJjbGVhbkRhdGUiLCJub3ciLCJ0b0lzb0RhdGUiLCJ0b0lTT1N0cmluZyIsInN1YnN0cmluZyIsImNoYW5nZUp1bGlhbiIsInZhbCIsImRpc3BsYXlKdWxpYW4iLCJkaXNwbGF5RGF0ZSIsImNoYW5nZURhdGUiLCJlcnJvciIsInZhbHVlIiwiaW5mb0NhcmQiLCJ0cmlnZ2VyIiwidGV4dCIsIm9uY2xpY2siLCJldiIsImNvbnRhaW5zIiwiaW5uZXJIVE1MIiwic2hvd1RvZGF5IiwiaGlkZVRvZGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN3YXBDYWNoZSIsIm9uTGluZSIsIm9uY2hhbmdlIiwidGhhdCIsInNldFRpbWVvdXQiLCJzZWxlY3QiLCJpc05hTiIsImJsdXIiXSwibWFwcGluZ3MiOiJDQUVBLFNBQVVBLEVBQVFDLEVBQVVDLEdBRTNCLFFBQVNDLEdBQUVDLEdBQ1YsTUFBT0gsR0FBU0ksZUFBZUQsR0FFaEMsUUFBU0UsR0FBRUMsRUFBVUMsR0FFcEIsTUFEQUEs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QUFPMkIsV0FBWSxHQUFJMUIsTUFBS2EsS0FBS2UsUUFFakNRLEtBSUVyQyxFQUFPZ0IsVUFBVXVCLGlCQUFpQixRQUFTLFdBQ3ZDLEdBQUlJLEdBQU83QixJQUNYOEIsWUFBVyxXQUNQRCxFQUFLRSxVQUNOLEtBRVY3QyxFQUFPZ0IsVUFBVXVCLGlCQUFpQixRQUFTLFNBQVNMLEdBQ25ELEdBQUlWLElBQU9WLEtBQUtlLE9BRVhpQixNQUFNdEIsSUFBYyxJQUFOQSxHQUFhQSxFQUFNLEdBQ3JDeEIsRUFBT3VCLGFBQWFDLEdBR3JCYSxNQUVFckMsRUFBT2dCLFVBQVV1QixpQkFBaUIsU0FBVSxTQUFTTCxHQUNqRHBCLEtBQUtpQyxNQUVMLElBQUl2QixJQUFPVixLQUFLZSxPQUVaaUIsTUFBTXRCLElBQVFBLEVBQU0sS0FBYSxFQUFOQSxJQUMzQnhCLEVBQU80QixVQUtsQmpELEVBQUUsU0FBU3NELFFBQVUsV0FDcEJqQyxFQUFPWCxLQUFPVyxFQUFPbUIsTUFDckJuQixFQUFPeUIsZ0JBQWdCQyxjQUN2QlksTUFFQzlELE9BQVFDLFNBQVVDIiwiZmlsZSI6Imp1bGlhbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSAqL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIG5hdmlnYXRvcil7XHJcblx0Ly9oZWxwZXIgLSBnZXQgZWxlbWVudFxyXG5cdGZ1bmN0aW9uIE8oaWQpe1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gQyhzZWxlY3RvciwgZWxlbSl7XHJcblx0XHRlbGVtID0gKGVsZW0pID8gZWxlbSA6IGRvY3VtZW50O1xyXG5cdFx0cmV0dXJuIGVsZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzZWxlY3RvcilbMF07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGlzTGVhcCh5KXtcclxuXHRcdGlmICh5JTQwMCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcblx0XHRlbHNlIGlmICh5JTEwMCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0ZWxzZSBpZiAoeSU0ID09PSAwKSByZXR1cm4gdHJ1ZTtcclxuXHRcdGVsc2UgcmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBnZXRKdWxpYW4oZGF0ZSl7XHJcblx0XHR2YXIgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCksXHJcblx0XHRcdG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSwgLy9tb250aCBzdGFydHMgYXQgMFxyXG5cdFx0XHR5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxyXG5cdFx0XHRkb3kgPSAwO1xyXG5cdFx0XHRcclxuXHRcdHN3aXRjaChtb250aCkge1xyXG5cdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0ZG95ID0gZGF5O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0ZG95ID0gZGF5ICsgMzE7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0ZG95ID0gTWF0aC5mbG9vcigzMC42Km1vbnRoIC0gOTEuNCkgKyBkYXk7IC8vZmxvb3IoMzAuNiAobSArIDEpKSArIGQgLSAxMjJcclxuXHRcdFx0XHRkb3kgKz0gKGlzTGVhcCh5ZWFyKSkgPyA2MDo1OTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIGRveTsgLy8gZGF0ZSBvbiBlZ2cgY2FydG9ucyBzdGFydHMgYXQgMSAob3IgbWF5YmUgMClcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gZ2V0RGF0ZShqdWxpYW4pe1xyXG5cdFx0dmFyIHllYXIgPSAobmV3IERhdGUoKSkuZ2V0RnVsbFllYXIoKTtcclxuXHRcdHZhciBsZWFwID0gKGlzTGVhcCh5ZWFyKSkgPyAxOjA7XHJcblx0XHR2YXIgbW9udGggPSAwO1xyXG5cdFx0dmFyIGRheSA9IDA7XHJcblx0XHRcclxuXHRcdHN3aXRjaCh0cnVlKXtcclxuXHRcdFx0Y2FzZSBqdWxpYW48PSgzMSk6XHJcblx0XHRcdFx0bW9udGggPSAxOyAvLydKYW51YXJ5JztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW47XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UganVsaWFuPD0oNTkgKyBsZWFwKTpcclxuXHRcdFx0XHRtb250aCA9IDI7IC8vJ0ZlYnJ1YXJ5JztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW4gLSAzMTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBqdWxpYW48PSg5MCArIGxlYXApOlxyXG5cdFx0XHRcdG1vbnRoID0gMzsgLy8nTWFyY2gnO1xyXG5cdFx0XHRcdGRheSA9IGp1bGlhbiAtICg1OSArIGxlYXApO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIGp1bGlhbjw9KDEyMCArIGxlYXApOlxyXG5cdFx0XHRcdG1vbnRoID0gNDsgLy8nQXByaWwnO1xyXG5cdFx0XHRcdGRheSA9IGp1bGlhbiAtICg5MCArIGxlYXApO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIGp1bGlhbjw9KDE1MSArIGxlYXApOlxyXG5cdFx0XHRcdG1vbnRoID0gNTsgLy8nTWF5JztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW4gLSAoMTIwICsgbGVhcCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UganVsaWFuPD0oMTgxICsgbGVhcCk6XHJcblx0XHRcdFx0bW9udGggPSA2OyAvLydKdW5lJztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW4gLSAoMTUxICsgbGVhcCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UganVsaWFuPD0oMjEyICsgbGVhcCk6XHJcblx0XHRcdFx0bW9udGggPSA3OyAvLydKdWx5JztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW4gLSAoMTgxICsgbGVhcCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UganVsaWFuPD0oMjQzICsgbGVhcCk6XHJcblx0XHRcdFx0bW9udGggPSA4OyAvLydBdWd1c3QnO1xyXG5cdFx0XHRcdGRheSA9IGp1bGlhbiAtICgyMTIgKyBsZWFwKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBqdWxpYW48PSgyNzMgKyBsZWFwKTpcclxuXHRcdFx0XHRtb250aCA9IDk7IC8vJ1NlcHRlbWJlcic7XHJcblx0XHRcdFx0ZGF5ID0ganVsaWFuIC0gKDI0MyArIGxlYXApO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIGp1bGlhbjw9KDMwNCArIGxlYXApOlxyXG5cdFx0XHRcdG1vbnRoID0gMTA7IC8vJ09jdG9iZXInO1xyXG5cdFx0XHRcdGRheSA9IGp1bGlhbiAtICgyNzMgKyBsZWFwKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBqdWxpYW48PSgzMzQgKyBsZWFwKTpcclxuXHRcdFx0XHRtb250aCA9IDExOyAvLydOb3ZlbWJlcic7XHJcblx0XHRcdFx0ZGF5ID0ganVsaWFuIC0gKDMwNCArIGxlYXApO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdG1vbnRoID0gMTI7IC8vJ0RlY2VtYmVyJztcclxuXHRcdFx0XHRkYXkgPSBqdWxpYW4gLSAoMzM0ICsgbGVhcCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vaVBob25lIGRvZXNuJ3QgbGlrZSBpc28gZGF0ZVxyXG5cdFx0Ly92YXIgbmQgPSBuZXcgRGF0ZShbeWVhciwgbW9udGgsIGRheV0uam9pbignLScpKTsgLy9nZXQgZGF0ZSBmcm9tIElTTyBzdHJpbmdcclxuXHRcdHZhciBuZCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLTEsIGRheSk7XHJcblx0XHRcclxuXHRcdHJldHVybiBuZDtcclxuXHR9XHJcblx0XHJcblx0RGF0ZS5wcm90b3R5cGUuZ2V0SnVsaWFuID0gZnVuY3Rpb24oKXsgcmV0dXJuIGdldEp1bGlhbih0aGlzKTsgfTtcclxuXHRcclxuXHR2YXIganVsaWFuID0ge1xyXG5cdFx0ZGF0ZTogbmV3IERhdGUoIChuZXcgRGF0ZSgpKS50b0RhdGVTdHJpbmcoKSApLCAvL2NvZGUgZXhwZWN0cyBVVEMgZGF0ZVxyXG5cdFx0anVsaWFuRE9NOiBPKCdqdWxpYW5JbnB1dCcpLFxyXG5cdFx0ZGF0ZURPTTogTygnZGF0ZUlucHV0JyksXHJcbiAgICAgICAgXHJcbiAgICAgICAgY2xlYW5EYXRlOiBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLnRvRGF0ZVN0cmluZygpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5vdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFuRGF0ZShuZXcgRGF0ZSgpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvSXNvRGF0ZTogZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLDEwKTtcclxuICAgICAgICB9LFxyXG5cdFx0XHJcblx0XHRjaGFuZ2VKdWxpYW46IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGUgPSBnZXREYXRlKHZhbCk7XHJcblx0XHRcdHRoaXMuZGlzcGxheUp1bGlhbigpLmRpc3BsYXlEYXRlKCk7XHJcblx0XHR9LFxyXG5cdFx0Y2hhbmdlRGF0ZTogZnVuY3Rpb24odmFsKSB7XHJcblx0XHRcdHRoaXMuZGF0ZSA9IHZhbDtcclxuXHRcdFx0dGhpcy5kaXNwbGF5SnVsaWFuKCkuZGlzcGxheURhdGUoKTtcclxuXHRcdH0sXHJcblx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuanVsaWFuRE9NLnZhbHVlID0gJ2Vycm9yJztcclxuICAgICAgICAgICAgdGhpcy5kYXRlRE9NLnZhbHVlID0gJyc7XHJcblx0XHR9LFxyXG5cdFx0ZGlzcGxheUp1bGlhbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuanVsaWFuRE9NLnZhbHVlID0gdGhpcy5kYXRlLmdldEp1bGlhbigpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRkaXNwbGF5RGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZURPTS52YWx1ZSA9IHRoaXMudG9Jc29EYXRlKHRoaXMuY2xlYW5EYXRlKHRoaXMuZGF0ZSkpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8vaW5pdGlhbGl6ZVxyXG5cdHdpbmRvdy5qdWxpYW4gPSBqdWxpYW47XHJcblx0anVsaWFuLmRpc3BsYXlKdWxpYW4oKS5kaXNwbGF5RGF0ZSgpO1xyXG5cdFxyXG5cdHZhciBpbmZvQ2FyZCA9IEMoJ3RvZ2dsZSBjYXJkJyk7XHJcblx0aW5mb0NhcmQudHJpZ2dlciA9IEMoJ3RyaWdnZXInLCBpbmZvQ2FyZCk7XHJcblx0aW5mb0NhcmQudGV4dCA9IEMoJ3RleHQnLCBpbmZvQ2FyZCk7XHJcblx0aW5mb0NhcmQudHJpZ2dlci5vbmNsaWNrID0gZnVuY3Rpb24oZXYpe1xyXG5cdFx0aWYgKGluZm9DYXJkLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XHJcblx0XHRcdGluZm9DYXJkLnRyaWdnZXIuaW5uZXJIVE1MID0gJ01vcmUgSW5mbyc7XHJcblx0XHRcdGluZm9DYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuXHRcdFx0aW5mb0NhcmQuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRpbmZvQ2FyZC50cmlnZ2VyLmlubmVySFRNTCA9ICdMZXNzIEluZm8nO1xyXG5cdFx0XHRpbmZvQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZScpO1xyXG5cdFx0XHRpbmZvQ2FyZC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvL2V2ZW50c1xyXG5cdHZhciBzaG93VG9kYXkgPSBmdW5jdGlvbigpe1xyXG5cdFx0TygndG9kYXknKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblx0fTtcclxuXHRcclxuXHR2YXIgaGlkZVRvZGF5ID0gZnVuY3Rpb24oKXtcclxuXHRcdE8oJ3RvZGF5JykuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG5cdH07XHJcblx0XHJcblx0ZnVuY3Rpb24gb2ZmbGluZU1vZGUoKXtcclxuXHRcdHZhciBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FjaGUgY2FyZCcpWzBdO1xyXG5cdFx0Y2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIG9ubGluZU1vZGUoKXtcclxuXHRcdHdpbmRvdy5hcHBsaWNhdGlvbkNhY2hlLnVwZGF0ZSgpOyAvL2NoZWNrIGZvciB1cGRhdGVcclxuXHRcdFxyXG5cdFx0dmFyIGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjYWNoZSBjYXJkJylbMF07XHJcblx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuXHR9XHJcblx0XHJcblx0Ly8gb25saW5lL29mZmxpbmUgbGlzdGVuZXJzXHJcblx0aWYgKHdpbmRvdy5hcHBsaWNhdGlvbkNhY2hlKXtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgb2ZmbGluZU1vZGUsIGZhbHNlKTtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBvbmxpbmVNb2RlLCBmYWxzZSk7XHJcblx0XHR3aW5kb3cuYXBwbGljYXRpb25DYWNoZS5hZGRFdmVudExpc3RlbmVyKCdub3VwZGF0ZScsIGZ1bmN0aW9uKCl7IFxyXG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyB1cGRhdGUnKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblx0XHR3aW5kb3cuYXBwbGljYXRpb25DYWNoZS5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVyZWFkeScsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdHdpbmRvdy5hcHBsaWNhdGlvbkNhY2hlLnN3YXBDYWNoZSgpO1xyXG5cdFx0fSwgZmFsc2UpO1xyXG5cdH1cclxuXHQvL2luaXRpYWwgY2hlY2tcclxuXHRpZiAoIW5hdmlnYXRvci5vbkxpbmUpIG9mZmxpbmVNb2RlKCk7XHJcblx0XHJcblx0Ly9zZWxlY3QgY3VzdG9tIGRhdGVcclxuXHRqdWxpYW4uZGF0ZURPTS5vbmNoYW5nZSA9IGZ1bmN0aW9uKGV2KSB7XHJcblx0XHRqdWxpYW4uY2hhbmdlRGF0ZSggbmV3IERhdGUodGhpcy52YWx1ZSkgKTtcclxuICAgICAgICBcclxuXHRcdHNob3dUb2RheSgpO1xyXG5cdH07XHJcblx0XHJcblx0Ly9pbW1lZGFpdGVseSBzaG93IGNoYW5nZXNcclxuICAgIGp1bGlhbi5qdWxpYW5ET00uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGF0LnNlbGVjdCgpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfSk7XHJcblx0anVsaWFuLmp1bGlhbkRPTS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGV2KSB7XHJcblx0XHR2YXIgdmFsID0gK3RoaXMudmFsdWU7IC8vZm9yY2UgdG8gbnVtYmVyXHJcbiAgICAgICAgXHJcblx0XHRpZiAoIWlzTmFOKHZhbCkgJiYgdmFsIDwgMzY3ICYmIHZhbCA+IDApIHtcclxuXHRcdFx0anVsaWFuLmNoYW5nZUp1bGlhbih2YWwpO1xyXG4gICAgICAgIH1cclxuXHRcdFxyXG5cdFx0c2hvd1RvZGF5KCk7XHJcblx0fSk7XHJcbiAgICBqdWxpYW4uanVsaWFuRE9NLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgdGhpcy5ibHVyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHZhbCA9ICt0aGlzLnZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA+IDM2NyB8fCB2YWwgPCAxKSB7XHJcbiAgICAgICAgICAgIGp1bGlhbi5lcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cdFxyXG5cdC8vcmVzZXQganVsaWFuIHRvIHRvZGF5XHJcblx0TygndG9kYXknKS5vbmNsaWNrID0gZnVuY3Rpb24oKXtcclxuXHRcdGp1bGlhbi5kYXRlID0ganVsaWFuLm5vdygpO1xyXG5cdFx0anVsaWFuLmRpc3BsYXlKdWxpYW4oKS5kaXNwbGF5RGF0ZSgpO1xyXG5cdFx0aGlkZVRvZGF5KCk7XHJcblx0fTtcclxufSkod2luZG93LCBkb2N1bWVudCwgbmF2aWdhdG9yKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9